<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="mobile-web-app-capable" content="yes">
    <title>
        Project Strings + Performance  
    </title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css" integrity="sha256-3iu9jgsy9TpTwXKb7bNQzqWekRX7pPK+2OLj3R922fo=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/octicons/3.5.0/octicons.min.css" integrity="sha256-QiWfLIsCT02Sdwkogf6YMiQlj4NE84MKkzEMkZnMGdg=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.1/themes/prism.min.css" integrity="sha256-vtR0hSWRc3Tb26iuN2oZHt3KRUomwTufNIf5/4oeCyg=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/emojify.js/1.1.0/css/basic/emojify.min.css" integrity="sha256-UOrvMOsSDSrW6szVLe8ZDZezBxh5IoIfgTwdNDgTjiU=" crossorigin="anonymous" />
    <style>
        @charset "UTF-8";@import url(https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i|Source+Code+Pro:300,400,500|Source+Sans+Pro:300,300i,400,400i,600,600i|Source+Serif+Pro&subset=latin-ext);.hljs{display:block;background:#fff;padding:.5em;color:#333;overflow-x:auto}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-string,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#a71d5d}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#0086b3}.hljs-built_in,.hljs-builtin-name{color:#005cc5}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#795da3}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.markdown-body{font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body:after,.markdown-body:before{display:table;content:""}.markdown-body:after{clear:both}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body .absent{color:#c00}.markdown-body .anchor{float:left;padding-right:4px;margin-left:-20px;line-height:1}.markdown-body .anchor:focus{outline:none}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e7e7e7;border:0}.markdown-body blockquote{font-size:16px;padding:0 1em;color:#777;border-left:.25em solid #ddd}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body kbd,.popover kbd{display:inline-block;padding:3px 5px;font-size:11px;line-height:10px;color:#555;vertical-align:middle;background-color:#fcfcfc;border:1px solid #ccc;border-bottom-color:#bbb;border-radius:3px;box-shadow:inset 0 -1px 0 #bbb}.markdown-body .loweralpha{list-style-type:lower-alpha}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#000;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1 code,.markdown-body h1 tt,.markdown-body h2 code,.markdown-body h2 tt,.markdown-body h3 code,.markdown-body h3 tt,.markdown-body h4 code,.markdown-body h4 tt,.markdown-body h5 code,.markdown-body h5 tt,.markdown-body h6 code,.markdown-body h6 tt{font-size:inherit}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{padding-bottom:.3em;border-bottom:1px solid #eee}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#777}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol.no-list,.markdown-body ul.no-list{padding:0;list-style-type:none}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li>p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table{display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}.markdown-body table th{font-weight:700}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #ddd}.markdown-body table tr{background-color:#fff;border-top:1px solid #ccc}.markdown-body table tr:nth-child(2n){background-color:#f8f8f8}.markdown-body img{max-width:100%;box-sizing:content-box;background-color:#fff}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body .emoji{max-width:none;vertical-align:text-top;background-color:transparent}.markdown-body span.frame{display:block;overflow:hidden}.markdown-body span.frame>span{display:block;float:left;width:auto;padding:7px;margin:13px 0 0;overflow:hidden;border:1px solid #ddd}.markdown-body span.frame span img{display:block;float:left}.markdown-body span.frame span span{display:block;padding:5px 0 0;clear:both;color:#333}.markdown-body span.align-center{display:block;overflow:hidden;clear:both}.markdown-body span.align-center>span{display:block;margin:13px auto 0;overflow:hidden;text-align:center}.markdown-body span.align-center span img{margin:0 auto;text-align:center}.markdown-body span.align-right{display:block;overflow:hidden;clear:both}.markdown-body span.align-right>span{display:block;margin:13px 0 0;overflow:hidden;text-align:right}.markdown-body span.align-right span img{margin:0;text-align:right}.markdown-body span.float-left{display:block;float:left;margin-right:13px;overflow:hidden}.markdown-body span.float-left span{margin:13px 0 0}.markdown-body span.float-right{display:block;float:right;margin-left:13px;overflow:hidden}.markdown-body span.float-right>span{display:block;margin:13px auto 0;overflow:hidden;text-align:right}.markdown-body code,.markdown-body tt{padding:0;padding-top:.2em;padding-bottom:.2em;margin:0;font-size:85%;background-color:rgba(0,0,0,.04);border-radius:3px}.markdown-body code:after,.markdown-body code:before,.markdown-body tt:after,.markdown-body tt:before{letter-spacing:-.2em;content:"\00a0"}.markdown-body code br,.markdown-body tt br{display:none}.markdown-body del code{text-decoration:inherit}.markdown-body pre{word-wrap:normal}.markdown-body pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:transparent;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f7f7f7;border-radius:3px}.markdown-body pre code,.markdown-body pre tt{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}.markdown-body pre code:after,.markdown-body pre code:before,.markdown-body pre tt:after,.markdown-body pre tt:before{content:normal}.markdown-body .csv-data td,.markdown-body .csv-data th{padding:5px;overflow:hidden;font-size:12px;line-height:1;text-align:left;white-space:nowrap}.markdown-body .csv-data .blob-line-num{padding:10px 8px 9px;text-align:right;background:#fff;border:0}.markdown-body .csv-data tr{border-top:0}.markdown-body .csv-data th{font-weight:700;background:#f8f8f8;border-top:0}.news .alert .markdown-body blockquote{padding:0 0 0 40px;border:0 none}.activity-tab .news .alert .commits,.activity-tab .news .markdown-body blockquote{padding-left:0}.task-list-item{list-style-type:none}.task-list-item label{font-weight:400}.task-list-item.enabled label{cursor:pointer}.task-list-item+.task-list-item{margin-top:3px}.task-list-item-checkbox{float:left;margin:.31em 0 .2em -1.3em!important;vertical-align:middle;cursor:default!important}.markdown-body{padding-top:40px;padding-bottom:40px;max-width:758px;overflow:visible!important}.markdown-body .emoji{vertical-align:top}.markdown-body pre{border:inherit!important}.markdown-body code{color:inherit!important}.markdown-body pre code .wrapper{display:-moz-inline-flex;display:-ms-inline-flex;display:-o-inline-flex;display:inline-flex}.markdown-body pre code .gutter{float:left;overflow:hidden;-webkit-user-select:none;user-select:none}.markdown-body pre code .gutter.linenumber{text-align:right;position:relative;display:inline-block;cursor:default;z-index:4;padding:0 8px 0 0;min-width:20px;box-sizing:content-box;color:#afafaf!important;border-right:3px solid #6ce26c!important}.markdown-body pre code .gutter.linenumber>span:before{content:attr(data-linenumber)}.markdown-body pre code .code{float:left;margin:0 0 0 16px}.markdown-body .gist .line-numbers{border-left:none;border-top:none;border-bottom:none}.markdown-body .gist .line-data{border:none}.markdown-body .gist table{border-spacing:0;border-collapse:inherit!important}.markdown-body code[data-gist-id]{background:none;padding:0}.markdown-body code[data-gist-id]:after,.markdown-body code[data-gist-id]:before{content:""}.markdown-body code[data-gist-id] .blob-num{border:unset}.markdown-body code[data-gist-id] table{overflow:unset;margin-bottom:unset}.markdown-body code[data-gist-id] table tr{background:unset}.markdown-body[dir=rtl] pre{direction:ltr}.markdown-body[dir=rtl] code{direction:ltr;unicode-bidi:embed}.markdown-body .alert>p{margin-bottom:0}.markdown-body pre.abc,.markdown-body pre.flow-chart,.markdown-body pre.graphviz,.markdown-body pre.mermaid,.markdown-body pre.sequence-diagram{text-align:center;background-color:inherit;border-radius:0;white-space:inherit}.markdown-body pre.abc>code,.markdown-body pre.flow-chart>code,.markdown-body pre.graphviz>code,.markdown-body pre.mermaid>code,.markdown-body pre.sequence-diagram>code{text-align:left}.markdown-body pre.abc>svg,.markdown-body pre.flow-chart>svg,.markdown-body pre.graphviz>svg,.markdown-body pre.mermaid>svg,.markdown-body pre.sequence-diagram>svg{max-width:100%;height:100%}.markdown-body pre>code.wrap{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}.markdown-body .alert>p,.markdown-body .alert>ul{margin-bottom:0}.markdown-body summary{display:list-item}.markdown-body summary:focus{outline:none}.markdown-body details summary{cursor:pointer}.markdown-body details:not([open])>:not(summary){display:none}.markdown-body figure{margin:1em 40px}.markdown-body .mark,.markdown-body mark{background-color:#fff1a7}.vimeo,.youtube{cursor:pointer;display:table;text-align:center;background-position:50%;background-repeat:no-repeat;background-size:contain;background-color:#000;overflow:hidden}.vimeo,.youtube{position:relative;width:100%}.youtube{padding-bottom:56.25%}.vimeo img{width:100%;object-fit:contain;z-index:0}.youtube img{object-fit:cover;z-index:0}.vimeo iframe,.youtube iframe,.youtube img{width:100%;height:100%;position:absolute;top:0;left:0}.vimeo iframe,.youtube iframe{vertical-align:middle;z-index:1}.vimeo .icon,.youtube .icon{position:absolute;height:auto;width:auto;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;opacity:.3;transition:opacity .2s;z-index:0}.vimeo:hover .icon,.youtube:hover .icon{opacity:.6;transition:opacity .2s}.slideshare .inner,.speakerdeck .inner{position:relative;width:100%}.slideshare .inner iframe,.speakerdeck .inner iframe{position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%}.MJX_Assistive_MathML{display:none}.ui-infobar{position:relative;z-index:2;max-width:760px;margin:25px auto -25px;padding:0 15px;color:#777}.toc .invisable-node{list-style-type:none}.ui-toc{position:fixed;bottom:20px;z-index:998}.ui-toc-label{opacity:.3;background-color:#ccc;border:none;transition:opacity .2s}.ui-toc .open .ui-toc-label{opacity:1;color:#fff;transition:opacity .2s}.ui-toc-label:focus{opacity:.3;background-color:#ccc;color:#000}.ui-toc-label:hover{opacity:1;background-color:#ccc;transition:opacity .2s}.ui-toc-dropdown{margin-top:23px;margin-bottom:20px;padding-left:10px;padding-right:10px;max-width:45vw;width:25vw;max-height:70vh;overflow:auto;text-align:inherit}.ui-toc-dropdown>.toc{max-height:calc(70vh - 100px);overflow:auto}.ui-toc-dropdown[dir=rtl] .nav{padding-right:0;letter-spacing:.0029em}.ui-toc-dropdown a{overflow:hidden;text-overflow:ellipsis;white-space:pre}.ui-toc-dropdown .nav>li>a{display:block;padding:4px 20px;font-size:13px;font-weight:500;color:#767676}.ui-toc-dropdown .nav>li:first-child:last-child > ul,.ui-toc-dropdown .toc.expand ul{display:block}.ui-toc-dropdown .nav>li>a:focus,.ui-toc-dropdown .nav>li>a:hover{padding-left:19px;color:#000;text-decoration:none;background-color:transparent;border-left:1px solid #000}.ui-toc-dropdown[dir=rtl] .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav>li>a:hover{padding-right:19px;border-left:none;border-right:1px solid #000}.ui-toc-dropdown .nav>.active:focus>a,.ui-toc-dropdown .nav>.active:hover>a,.ui-toc-dropdown .nav>.active>a{padding-left:18px;font-weight:700;color:#000;background-color:transparent;border-left:2px solid #000}.ui-toc-dropdown[dir=rtl] .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav>.active>a{padding-right:18px;border-left:none;border-right:2px solid #000}.ui-toc-dropdown .nav .nav{display:none;padding-bottom:10px}.ui-toc-dropdown .nav>.active>ul{display:block}.ui-toc-dropdown .nav .nav>li>a{padding-top:1px;padding-bottom:1px;padding-left:30px;font-size:12px;font-weight:400}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a{padding-right:30px}.ui-toc-dropdown .nav .nav>li>ul>li>a{padding-top:1px;padding-bottom:1px;padding-left:40px;font-size:12px;font-weight:400}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a{padding-right:40px}.ui-toc-dropdown .nav .nav>li>a:focus,.ui-toc-dropdown .nav .nav>li>a:hover{padding-left:29px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:hover{padding-right:29px}.ui-toc-dropdown .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown .nav .nav>li>ul>li>a:hover{padding-left:39px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:hover{padding-right:39px}.ui-toc-dropdown .nav .nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>a{padding-left:28px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>a{padding-right:28px}.ui-toc-dropdown .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active>a{padding-left:38px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active>a{padding-right:38px}.markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,sans-serif}html[lang^=ja] .markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ\ ゴシック,sans-serif}html[lang=zh-tw] .markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html[lang=zh-cn] .markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}html .markdown-body[lang^=ja]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ\ ゴシック,sans-serif}html .markdown-body[lang=zh-tw]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html .markdown-body[lang=zh-cn]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}html[lang^=ja] .ui-toc-dropdown{font-family:Source Sans Pro,Helvetica,Arial,Meiryo UI,MS PGothic,ＭＳ\ Ｐゴシック,sans-serif}html[lang=zh-tw] .ui-toc-dropdown{font-family:Source Sans Pro,Helvetica,Arial,Microsoft JhengHei UI,微軟正黑UI,sans-serif}html[lang=zh-cn] .ui-toc-dropdown{font-family:Source Sans Pro,Helvetica,Arial,Microsoft YaHei UI,微软雅黑UI,sans-serif}html .ui-toc-dropdown[lang^=ja]{font-family:Source Sans Pro,Helvetica,Arial,Meiryo UI,MS PGothic,ＭＳ\ Ｐゴシック,sans-serif}html .ui-toc-dropdown[lang=zh-tw]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft JhengHei UI,微軟正黑UI,sans-serif}html .ui-toc-dropdown[lang=zh-cn]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft YaHei UI,微软雅黑UI,sans-serif}.ui-affix-toc{position:fixed;top:0;max-width:15vw;max-height:70vh;overflow:auto}.back-to-top,.expand-toggle,.go-to-bottom{display:block;padding:4px 10px;margin-top:10px;margin-left:10px;font-size:12px;font-weight:500;color:#999}.back-to-top:focus,.back-to-top:hover,.expand-toggle:focus,.expand-toggle:hover,.go-to-bottom:focus,.go-to-bottom:hover{color:#563d7c;text-decoration:none}.back-to-top,.go-to-bottom{margin-top:0}.ui-user-icon{width:20px;height:20px;display:block;border-radius:3px;margin-top:2px;margin-bottom:2px;margin-right:5px;background-position:50%;background-repeat:no-repeat;background-size:cover}.ui-user-icon.small{width:18px;height:18px;display:inline-block;vertical-align:middle;margin:0 0 .2em}.ui-infobar>small>span{line-height:22px}.ui-infobar>small .dropdown{display:inline-block}.ui-infobar>small .dropdown a:focus,.ui-infobar>small .dropdown a:hover{text-decoration:none}.ui-published-note{color:#337ab7}.ui-published-note .fa{font-size:20px;vertical-align:top}.unselectable{-webkit-user-select:none;-o-user-select:none;user-select:none}@media print{blockquote,div,img,pre,table{page-break-inside:avoid!important}a[href]:after{font-size:12px!important}}.markdown-body.slides{position:relative;z-index:1;color:#222}.markdown-body.slides:before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;z-index:-1;background-color:currentColor;box-shadow:0 0 0 50vw}.markdown-body.slides section[data-markdown]{position:relative;margin-bottom:1.5em;background-color:#fff;text-align:center}.markdown-body.slides section[data-markdown] code{text-align:left}.markdown-body.slides section[data-markdown]:before{content:"";display:block;padding-bottom:56.23%}.markdown-body.slides section[data-markdown]>div:first-child{position:absolute;top:50%;left:1em;right:1em;transform:translateY(-50%);max-height:100%;overflow:hidden}.markdown-body.slides section[data-markdown]>ul{display:inline-block}.markdown-body.slides>section>section+section:after{content:"";position:absolute;top:-1.5em;right:1em;height:1.5em;border:3px solid #777}body{font-smoothing:subpixel-antialiased!important;-webkit-font-smoothing:subpixel-antialiased!important;-moz-osx-font-smoothing:auto!important;text-shadow:0 0 1em transparent,1px 1px 1.2px rgba(0,0,0,.004);-webkit-overflow-scrolling:touch;letter-spacing:.025em}.focus,:focus{outline:none!important}::-moz-focus-inner{border:0!important}body{font-family:Source Sans Pro,Helvetica,Arial,sans-serif}html[lang^=ja] body{font-family:Source Sans Pro,Helvetica,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ\ ゴシック,sans-serif}html[lang=zh-tw] body{font-family:Source Sans Pro,Helvetica,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html[lang=zh-cn] body{font-family:Source Sans Pro,Helvetica,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}abbr[data-original-title],abbr[title]{cursor:help}body.modal-open{overflow-y:auto;padding-right:0!important}
    </style>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" integrity="sha256-3Jy/GbSLrg0o9y5Z5n1uw0qxZECH7C6OQpVBgNFYa0g=" crossorigin="anonymous"></script>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js" integrity="sha256-g6iAfvZp+nDQ2TdTR/VVKJf3bGro4ub5fvWSWVRi2NE=" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.9/es5-shim.min.js" integrity="sha256-8E4Is26QH0bD52WoQpcB+R/tcWQtpzlCojrybUd7Mxo=" crossorigin="anonymous"></script>
    <![endif]-->
</head>

<body>
    <div id="doc" class="markdown-body container-fluid comment-enabled" data-hard-breaks="true" style="position: relative;"><h1 id="Project-Strings--Performance"><a class="anchor hidden-xs" href="#Project-Strings--Performance" title="Project-Strings--Performance"><span class="octicon octicon-link"></span></a>Project Strings + Performance</h1><p><em>Due: <strong>October 18</strong>, 2019 at 11:59pm</em></p><h1 id="Overview"><a class="anchor hidden-xs" href="#Overview" title="Overview"><span class="octicon octicon-link"></span></a>Overview</h1><p>This assignment was previously two separate projects — Strings and Performance — that for logistical reasons were combined into a single project with two parts.</p><p>You should approach each of the two parts as its own project, independent of the other part.</p><p>In the Strings portion of this project, you will implement a subset of C’s string manipulation library.</p><p>In the Performance portion, you will optimize the performance of two functions using techniques you learned in class.</p><h1 id="Install-the-Stencil"><a class="anchor hidden-xs" href="#Install-the-Stencil" title="Install-the-Stencil"><span class="octicon octicon-link"></span></a>Install the Stencil</h1><p>To get started, run the following command in a terminal:</p><p><strong>cs0330_install stringsperf</strong></p><p>This will install the stencil code in your course/cs0330/stringsperf directory.</p><p>The only files you should edit are <code>strings/strings.c</code>, <code>perf/poly.c</code>, and <code>perf/polycol.c</code>.</p><h1 id="Part-1-Strings"><a class="anchor hidden-xs" href="#Part-1-Strings" title="Part-1-Strings"><span class="octicon octicon-link"></span></a>Part 1: Strings</h1><p>Professor Doeppner is deep in the ocean, and has just come across a couple of shrimp:  the Twin-Stripe Crinoid Shrimp and the Peacock Tail Anemone Shrimp. Unfortunately, animals have weird and complicated latin names, and our diver will have to be able to distinguish precisely between <a href="http://cs.brown.edu/~twd/twdUnderwater/index.html#/view/ID826828" target="_blank" rel="noopener">Periclimenes affinis</a> and <a href="http://cs.brown.edu/~twd/twdUnderwater/index.html#/view/ID826358" target="_blank" rel="noopener">Periclimenes brevicarpalis</a> if he is to be taken seriously as a scientist. Help him preserve his good name within the diving community by implementing C’s string manipulation functions!</p><p>String manipulation is an important concept in computer science, and it is something that comes up very often in systems programming. Most programming languages have a string library that relieves programmers from writing their own string operations for every program. The C Standard Library has some excellent string manipulation facilities, but we want to assemble one ourselves!</p><h2 id="Assignment"><a class="anchor hidden-xs" href="#Assignment" title="Assignment"><span class="octicon octicon-link"></span></a>Assignment</h2><p>For this part of the project, you will implement a subset of C’s standard library string functions. You will use these functions in the upcoming Shell assignments to tokenize and search strings.</p><p>You should implement the following functions, all of which are documented extensively in the strings.c stencil file. As a hint, you may need to reuse earlier functions in later functions, so it might help to write these functions in order.</p><p>Your implementations should be efficient, but do not optimize your code at the expense of readability. (You will get a chance to write highly optimized code in Performance!) Please comment your code and explain any complicated logic. Your implementations should be at least as fast as the baseline times listed in Section 3.3 for full credit.</p><p>Here are the functions you should write, along with example uses of each:</p><ul>
<li><strong><code>size_t strlen(const char *s);</code></strong><br>
<strong>strlen</strong> computes the length of a string, excluding the terminating null byte.</li>
</ul><pre><code class="c hljs">size_t len <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token string">"ALGOT / SKADIS"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// len = 14</span>
</code></pre><ul>
<li><strong><code>size_t strspn(const char *s, const char *accept);</code></strong></li>
</ul><pre><code class="c hljs"><span class="token operator">*</span><span class="token operator">*</span>strspn<span class="token operator">*</span><span class="token operator">*</span> computes the number of bytes in the largest prefix of s that contains only characters from accept<span class="token punctuation">.</span>
<span class="token keyword">char</span> <span class="token operator">*</span>s <span class="token operator">=</span> <span class="token string">"Design your own ELVARLI storage systems"</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> <span class="token operator">*</span>accept <span class="token operator">=</span> <span class="token string">"Design your ELVARLI"</span><span class="token punctuation">;</span>
size_t span <span class="token operator">=</span> <span class="token function">strspn</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> accept<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// span = 13</span>
</code></pre><ul>
<li><strong><code>size_t strcspn(const char *s, const char *reject);</code></strong><br>
<strong>strcspn</strong> computes the number of bytes in the largest prefix of s that contains only characters not in reject.</li>
</ul><pre><code class="c hljs"><span class="token keyword">char</span> <span class="token operator">*</span>s <span class="token operator">=</span> <span class="token string">"coming up with example strings gets hard"</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> <span class="token operator">*</span>reject <span class="token operator">=</span> <span class="token string">"breakingthe4thwall"</span><span class="token punctuation">;</span>
size_t span <span class="token operator">=</span> <span class="token function">strcspn</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> reject<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// span = 3</span>
</code></pre><ul>
<li><strong><code>int strncmp(const char *s1, const char *s2, size t n);</code></strong><br>
<strong>strncmp</strong> is similar to the behavior of <strong>strcmp</strong>, which you do not have to implement for this assignment. <strong>strcmp</strong> compares two strings and returns a number less than, equal to, or greater than 0, if <strong>s1</strong> is found to be lexicographically less than, equal to, or greater than <strong>s2</strong>.<br>
<strong>strncmp</strong> is similar, except that it only compares the first (at most) <strong>n</strong> bytes of <strong>s1</strong> and <strong>s2</strong>.</li>
</ul><pre><code class="c hljs"><span class="token keyword">int</span> result <span class="token operator">=</span> <span class="token function">strncmp</span><span class="token punctuation">(</span><span class="token string">"ABCXYZ"</span><span class="token punctuation">,</span> <span class="token string">"ABCXYZAAO"</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// result = 0</span>
</code></pre><ul>
<li><strong><code>char *strncpy(char *dest, const char *src, size t n);</code></strong><br>
<strong>strncpy</strong> is similar to the behavior of <strong>strcpy</strong>, which you do not have to implement for this assignment. <strong>strcpy</strong> copies the contents of <strong>src</strong> into <strong>dest</strong>.<br>
<strong>strncpy</strong> is similar, except that it only copies the first (at most) <strong>n</strong> bytes from <strong>src</strong> into <strong>dest</strong>.</li>
</ul><pre><code class="c hljs"><span class="token keyword">char</span> dest<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"MACKAPAR"</span><span class="token punctuation">;</span>
<span class="token function">strncpy</span><span class="token punctuation">(</span>dest<span class="token punctuation">,</span> <span class="token string">"TJUSIG"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// dest now becomes "TJUKAPAR"</span>
</code></pre><p><strong>Hint</strong>: <em>Think about why we might have used a <strong><code>char[]</code></strong> instead of a <strong><code>char*</code></strong></em> for <strong><code>dest</code></strong>.*</p><ul>
<li><strong><code>char *strstr(const char *haystack, const char *needle);</code></strong><br>
<strong>strstr</strong> finds the first occurrence of the string needle in the string haystack.</li>
</ul><pre><code class="c hljs"><span class="token keyword">char</span> <span class="token operator">*</span>needle <span class="token operator">=</span> <span class="token string">"NYMANE"</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> <span class="token operator">*</span>haystack <span class="token operator">=</span> <span class="token string">"---HOLJES---NYMANE---NYMANE---"</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> <span class="token operator">*</span>location <span class="token operator">=</span> <span class="token function">strstr</span><span class="token punctuation">(</span>haystack<span class="token punctuation">,</span> needle<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// location = "NYMANE---NYMANE---"</span>
</code></pre><ul>
<li><strong><code>char *strtok(char *str, const char *delim);</code></strong><br>
<strong><code>strtok</code></strong> returns a pointer to the first segment of str that does not contain any characters in delim. <strong><code>strtok</code></strong> should return non-empty token strings or <strong>NULL</strong> if there are no more tokens in <strong><code>str</code></strong>. Note that <strong><code>strtok</code></strong> is stateful; to extract a sequence of tokens from the same string, you must make multiple calls by specifying the corpus string in the first call and <strong><code>NULL</code></strong> each time after.<br>
<strong><code>Hint</code></strong>: <strong><code>strtok</code></strong> makes no promise to leave str untouched. You may overwrite characters with null terminators if you’d like.<br>
<strong><code>Hint</code>:</strong> It may be helpful to think of delim as a set of characters that happens to be stored as a list, rather than as a string itself. The order<br>
<strong><code>Hint</code></strong>: The <strong><code>static</code></strong> keyword may be useful when writing <strong><code>strtok</code></strong>.</li>
</ul><pre><code class="c hljs"><span class="token keyword">char</span> <span class="token operator">*</span>delim <span class="token operator">=</span> <span class="token string">"-"</span><span class="token punctuation">;</span>
<span class="token comment">// string is a char * that equals "---I---Love---33---"</span>
<span class="token keyword">char</span> <span class="token operator">*</span>token1 <span class="token operator">=</span> <span class="token function">strtok</span><span class="token punctuation">(</span>string<span class="token punctuation">,</span> delim<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// token1 = "I"</span>
<span class="token keyword">char</span> <span class="token operator">*</span>token2 <span class="token operator">=</span> <span class="token function">strtok</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> delim<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// token2 = "Love"</span>
</code></pre><p>Remember that in C, you can think of the type <strong><code>char *</code></strong> as any of three things: a pointer to a character, a string, or an array of characters. These are all the same! Because of this, you can index into a string like an array.</p><h2 id="Allowed-Library-Functions-and-Resources"><a class="anchor hidden-xs" href="#Allowed-Library-Functions-and-Resources" title="Allowed-Library-Functions-and-Resources"><span class="octicon octicon-link"></span></a>Allowed Library Functions and Resources</h2><p>Read the man pages for more information about each of the string functions if you’re confused by the explanation, or come to hours and discuss the functions in more detail. All functions that you’ll need to use are defined in <strong>strings.c</strong>. <strong>There are no external functions allowed</strong>.</p><h2 id="Testing"><a class="anchor hidden-xs" href="#Testing" title="Testing"><span class="octicon octicon-link"></span></a>Testing</h2><p>We have included a few tests in the main function of the <strong>tests.c</strong> file. These tests will test the expected functionality of this string library. While they do cover basic functionality, we encourage you to write more of your own tests so that you can be sure that your functions work correctly before using them to implement subsequent functions.</p><p>Please do not modify the tests that are already in the file, as this will only make it harder for you to confirm that everything is working. Also, we will test your code with no compiler optimizations, so do not use a compiler flag to improve your times.</p><p>To build the test executable, run:</p><p><strong>make</strong></p><p>To test your work against the entire test suite, run:</p><p><strong><code>./run_tests [number of repetitions] all</code></strong></p><p>To test your work against a specific test or list of tests, run:</p><p><strong><code>./run_tests [number of repetitions] &lt;test name(s)&gt;</code></strong></p><p>We will be testing your code’s efficiency with one million repetitions. If you do not specify a number when running the tests, it will default to one million.</p><p>Here are some reference times you should shoot for. Each time is in milliseconds.</p><table>
  <tbody><tr>
    <td></td>
    <td>Baseline</td>
    <td>Optimized</td>
    <td>System</td>
  </tr>
  <tr>
    <td>strlen</td>
    <td>824ms</td>
    <td>199ms</td>
    <td>86ms</td>
  </tr>
  <tr>
    <td>strspn</td>
    <td>2s 339ms</td>
    <td>124ms</td>
    <td>93ms</td>
  </tr>
  <tr>
    <td>strcspn</td>
    <td>2s 365ms</td>
    <td>141ms</td>
    <td>99ms</td>
  </tr>
  <tr>
    <td>strncmp</td>
    <td>1s 956ms</td>
    <td>199ms</td>
    <td>177ms</td>
  </tr>
  <tr>
    <td>strncpy</td>
    <td>490ms</td>
    <td>302ms</td>
    <td>287ms</td>
  </tr>
  <tr>
    <td>strstr</td>
    <td>487ms</td>
    <td>149ms</td>
    <td>32ms</td>
  </tr>
  <tr>
    <td>strtok</td>
    <td>371ms</td>
    <td>224ms</td>
    <td>177ms</td>
  </tr>
</tbody></table><p>For full credit, we are looking for times that run faster than the baseline. If you want a challenge, see if you can reach the optimized times! The system column shows the times of the actual system functions.</p><h1 id="Part-2-Performance"><a class="anchor hidden-xs" href="#Part-2-Performance" title="Part-2-Performance"><span class="octicon octicon-link"></span></a>Part 2: Performance</h1><h2 id="Poly"><a class="anchor hidden-xs" href="#Poly" title="Poly"><span class="octicon octicon-link"></span></a>Poly!</h2><p>The number of sharks in the beach at any given time is dependent on a variety of factors, including water temperature, depth, and number of swimmers. In order to plan the optimal beach day, it’s important to take these circumstances into account, so Professor Doeppner developed a formula to calculate the number of sharks chillin’ at the beach at any moment. However, Tom neglected to include compiler optimizations, causing surfers to forgo the lengthy calculations and just hit the waves. Help speed up Tom’s program and save the surfers from the sharks!</p><h3 id="Assignment1"><a class="anchor hidden-xs" href="#Assignment1" title="Assignment1"><span class="octicon octicon-link"></span></a>Assignment</h3><p>The purpose of this assignment is to utilize various techniques to optimize the speed of C code. In particular, you will be optimizing the performance of a function, <strong><code>poly</code></strong>, and explaining the techniques that you used.</p><p>The <strong><code>poly</code></strong> function evaluates a polynomial whose coefficients are given by a, i.e.</p><p><em>a</em>[0] + <em>a</em>[1]<em>x</em> + <em>a</em>[2]<em>x</em><sup>2</sup> + <em>a</em>[3]<em>x</em><sup>3</sup> + … + <em>a</em>[<em>n</em>]<em>x</em><sup>n</sup></p><p>where <em>n</em> is the degree of the polynomial. A baseline implementation of <strong>poly</strong> is provided for you and replicated below. Your task is to identify and implement ways to improve this function’s performance:</p><pre><code class="c hljs"><span class="token keyword">double</span> <span class="token function">poly</span><span class="token punctuation">(</span><span class="token keyword">double</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">double</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> degree<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">long</span> i<span class="token punctuation">;</span>
	<span class="token keyword">double</span> result <span class="token operator">=</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">double</span> xpwr <span class="token operator">=</span> x<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">&lt;=</span>degree<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		result <span class="token operator">+</span><span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> xpwr<span class="token punctuation">;</span>
		xpwr <span class="token operator">=</span> x <span class="token operator">*</span> xpwr<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>Please note that to implement a performant <strong><code>poly</code></strong> function, you may need to restrict the range of values you can pass in for variable degree. You do not have to worry about the result overflowing for extremely large values for degree, but you must at a minimum support degrees greater than or equal to 15 (you don’t need to worry about the result overflowing when the number of degrees is sufficiently high).</p><h3 id="Horner’s-Method"><a class="anchor hidden-xs" href="#Horner’s-Method" title="Horner’s-Method"><span class="octicon octicon-link"></span></a>Horner’s Method</h3><p>Horner’s Method is an algorithm for polynomial evaluation that reduces the number of operations performed. Given a polynomial</p><p><em>p(x)</em> = ∑<sub>i=0</sub><sup>n</sup> a<sub>i</sub><em>x<sup>i</sup></em></p><p>Horner’s Method factors the polynomial into the new expression</p><p><em>p</em>(<em>x</em>) = <em>a</em><sub>0</sub> + <em>x</em>(<em>a<sub>1</sub></em> + <em>x</em>(<em>a<sub>2</sub></em> + … + <em>x</em>(<em>a<sub>n-1</sub></em> + <em>a<sub>n</sub>x</em>)…))</p><p>Intuitively, this solution halves the number of multiplications necessary for solving a polynomial. Take the following polynomial for example:</p><p><em>p</em>(<em>x</em>) = <em>x</em> + 3<em>x</em><sup>2</sup> + 2<em>x</em><sup>3</sup></p><p>To apply Horner’s Method to this polynomial, we would rearrange <em>p(x)</em> as follows:</p><p><em>p</em>(<em>x</em>) = 0 + <em>x</em>(1 + <em>x</em>(3 + 2<em>x</em>))</p><p>This technique should serve as a starting point for your improved <strong><code>poly</code></strong> implementation.</p><h2 id="PolyCol"><a class="anchor hidden-xs" href="#PolyCol" title="PolyCol"><span class="octicon octicon-link"></span></a>PolyCol</h2><p>After implementing the appropriate optimizations, Tom’s Shark CalculatorTM gained immense popularity among the surfin’ community, and the people want more! To satisfy demand, Tom has cleverly expanded his program to calculate the shark density at a number of beaches at the same time. However, our hero still remains woefully ignorant of compiler optimizations, and his program has been a commercial failure due to its slowness, bringing hard times upon his company and his family. Help save Tom’s business by optimizing his program!</p><h3 id="Assignment2"><a class="anchor hidden-xs" href="#Assignment2" title="Assignment2"><span class="octicon octicon-link"></span></a>Assignment</h3><p>In this part of the performance assignment, you are responsible for optimizing the performance of <strong><code>polycol</code></strong>. This is a similar problem to poly, except that you must simultaneously compute <em>multiple</em> polynomials, the coefficients of each making up a column in an <em>n x n</em> matrix. For example, given polynomials</p><p><em>p</em><sub>a</sub>(<em>x</em>) = <em>a</em>[0] + <em>a</em>[1]<em>x</em> + <em>a</em>[2]<em>x</em><sup>2</sup> + <em>a</em>[3]<em>x</em><sup>3</sup> + … + <em>a</em>[<em>n</em>]<em>x</em><sup>n</sup></p><p><em>p</em><sub>b</sub>(<em>x</em>) = <em>b</em>[0] + <em>b</em>[1]<em>x</em> + <em>b</em>[2]<em>x</em><sup>2</sup> + <em>b</em>[3]<em>x</em><sup>3</sup> + … + <em>b</em>[<em>n</em>]<em>x</em><sup>n</sup></p><p><em>p</em><sub>c</sub>(<em>x</em>) = <em>c</em>[0] + <em>c</em>[1]<em>x</em> + <em>c</em>[2]<em>x</em><sup>2</sup> + <em>c</em>[3]<em>x</em><sup>3</sup> + … + <em>c</em>[<em>n</em>]<em>x</em><sup>n</sup></p><p>…</p><p>The given and resulting matrices would look like this:</p><table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">p<sub>a</sub>(x)</th>
<th style="text-align:center">p<sub>b</sub>(x)</th>
<th style="text-align:center">p<sub>c</sub>(x)</th>
<th style="text-align:center">p<sub>d</sub>(x)</th>
<th style="text-align:center">p<sub>e</sub>(x)</th>
<th style="text-align:center">p<sub>f</sub>(x)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">j=0</td>
<td style="text-align:center">a[0]</td>
<td style="text-align:center">b[0]</td>
<td style="text-align:center">c[0]</td>
<td style="text-align:center">d[0]</td>
<td style="text-align:center">e[0]</td>
<td style="text-align:center">f[0]</td>
</tr>
<tr>
<td style="text-align:center">j=1</td>
<td style="text-align:center">a[1]</td>
<td style="text-align:center">b[1]</td>
<td style="text-align:center">c[1]</td>
<td style="text-align:center">d[1]</td>
<td style="text-align:center">e[1]</td>
<td style="text-align:center">f[1]</td>
</tr>
<tr>
<td style="text-align:center">j=2</td>
<td style="text-align:center">a[2]</td>
<td style="text-align:center">b[2]</td>
<td style="text-align:center">c[2]</td>
<td style="text-align:center">d[2]</td>
<td style="text-align:center">e[2]</td>
<td style="text-align:center">f[2]</td>
</tr>
<tr>
<td style="text-align:center">j=3</td>
<td style="text-align:center">a[3]</td>
<td style="text-align:center">b[3]</td>
<td style="text-align:center">c[3]</td>
<td style="text-align:center">d[3]</td>
<td style="text-align:center">e[3]</td>
<td style="text-align:center">f[3]</td>
</tr>
<tr>
<td style="text-align:center">j=4</td>
<td style="text-align:center">a[4]</td>
<td style="text-align:center">b[4]</td>
<td style="text-align:center">c[4]</td>
<td style="text-align:center">d[4]</td>
<td style="text-align:center">e[4]</td>
<td style="text-align:center">f[4]</td>
</tr>
<tr>
<td style="text-align:center">j=5</td>
<td style="text-align:center">a[5]</td>
<td style="text-align:center">b[5]</td>
<td style="text-align:center">c[5]</td>
<td style="text-align:center">d[5]</td>
<td style="text-align:center">e[5]</td>
<td style="text-align:center">f[5]</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">res[0]</td>
<td style="text-align:center">res[1]</td>
<td style="text-align:center">res[2]</td>
<td style="text-align:center">res[3]</td>
<td style="text-align:center">res[4]</td>
<td style="text-align:center">res[5]</td>
</tr>
</tbody>
</table><p>Where res[0] =  <em>a</em>[0] + <em>a</em>[1]<em>x</em> + <em>a</em>[2]<em>x</em>2 + <em>a</em>[3]<em>x</em>3 + <em>a</em>[4]<em>x</em>4 + <em>a</em>[5]<em>x</em>5 for a given value of x.</p><p>In other words, each element [j][i] of the matrix is the jth* * coefficient of polynomial i. Your res matrix, then, should be a* 1 x i* matrix with the computed polynomials in their respective columns.</p><p><strong>Please</strong> <strong>note</strong> <em>that the values of x in this computation are x = i / N, where i is the current column and N is the total number of columns. We are using these values of x instead of the standard x=0,1,2,…n to prevent overflow.</em></p><p>The naive approach of this computation, provided in the stencil and replicated below, goes through the columns one at a time and evaluates the contents to find the final <em>1 x n</em> matrix.</p><pre><code class="c hljs"><span class="token keyword">void</span> <span class="token function">polycol</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">double</span> <span class="token operator">*</span>res<span class="token punctuation">,</span> <span class="token keyword">double</span> mat<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">memset</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">'\0'</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span> <span class="token operator">*</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
i
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        res<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">// `i` must be cast to a double or the result will be rounded to 0</span>
        <span class="token keyword">double</span> x <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span> i <span class="token operator">/</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">double</span> xpwr <span class="token operator">=</span> x<span class="token punctuation">;</span> 
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> mat<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> xpwr<span class="token punctuation">;</span>
            xpwr <span class="token operator">*</span><span class="token operator">=</span> x<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>This solution, however, does not take advantage of any of the optimizations we learned in class, and is therefore pretty slow. All the surfers will be eaten alive if you don’t figure out how to make this run faster!</p><p><strong>Hint:</strong> You can assume there are an even number of rows and columns in mat (i.e. that the polynomials calculated are of an odd order).</p><h2 id="Getting-Started"><a class="anchor hidden-xs" href="#Getting-Started" title="Getting-Started"><span class="octicon octicon-link"></span></a>Getting Started</h2><p>Before tackling this problem, try to consider what makes this computation so slow. This will help you determine how to improve efficiency. Although <strong><code>poly</code></strong> and <strong><code>polycol</code></strong> are separate projects that will be graded separately, we strongly recommend fully completing <strong><code>poly</code></strong> before beginning <strong><code>polycol</code></strong>.</p><h2 id="Testing1"><a class="anchor hidden-xs" href="#Testing1" title="Testing1"><span class="octicon octicon-link"></span></a>Testing</h2><p>There are several files in the <em>performance/poly</em> directory, but you only need to worry about filling in <strong><code>poly.c</code></strong>. Similarly, the only file in <em><code>performance/polycol</code></em> that you need to fill in is <strong><code>polycol.c</code></strong>. Each file contains the naive implementations of the respective codes. After building your code, you can run</p><p><strong><code>./poly</code></strong> or <strong><code>./polycol</code></strong></p><p>To test the respective codes. Running this code will print the following:</p><ul>
<li>
<p><em>Reference Real time</em> and <em>Reference CPU time</em>, which represent your target values. You should try to get your performance time to be as close to the reference as possible</p>
</li>
<li>
<p><em>Your Real time</em> and <em>Your CPU time</em>. These values tell you the efficiency of your own code.</p>
</li>
<li>
<p>Either “Your result is correct!” or “Results differ”. Please note that you cannot get <em>any</em> points for performance if your result is not correct.</p>
</li>
<li>
<p>Either “Your implementation was ___ % slower than the reference”  or “Your implementation was ___% faster than the reference! Congratulations!!!”</p>
</li>
</ul><p>You will be graded on this project based on the following categories.</p><ul>
<li>
<p><strong>Functionality</strong></p>
<ul>
<li>
<p>Your code should correctly compute the <strong><code>poly</code></strong> and <strong><code>polycol</code></strong> functions’ output. A correct output is necessary to receive performance points!</p>
</li>
<li>
<p>Note: you don’t have to perform error-checking on the arguments passed to <strong><code>poly</code></strong> and <strong><code>polycol</code></strong>: this is done for you by the support code.</p>
</li>
</ul>
</li>
<li>
<p><strong>Performance</strong></p>
<ul>
<li>
<p><strong><code>poly</code></strong> and <strong><code>polycol</code></strong> run quickly. The faster your program runs, the more points you will receive. Your code should aim to be as fast as the reference code.</p>
</li>
<li>
<p>To get <strong>full performance points</strong> your code should be <strong>no more</strong> than <strong>10% slower than the reference solution</strong> for both <strong><code>poly</code></strong> and <strong><code>polycol</code></strong>.</p>
</li>
<li>
<p>You will not receive any performance points if your code does not produce correct output.</p>
</li>
</ul>
</li>
<li>
<p><strong>Explanation</strong></p>
<ul>
<li>You should explain all optimizations that you made in <strong><code>poly</code></strong> and <strong><code>polycol</code></strong> in your README. This will be a significant portion of your grade, so make sure to explain what optimizations you made and why they make your program faster. If you considered any alternatives, explain why you chose to implement your function the way you did and what tradeoffs you may have made.</li>
</ul>
</li>
</ul><h1 id="Grading"><a class="anchor hidden-xs" href="#Grading" title="Grading"><span class="octicon octicon-link"></span></a>Grading</h1><p>See the table below for <strong>guaranteed</strong> grade cutoffs. If you do not meet the threshold for a given letter grade, you may still receive that grade after Professor Doeppner applies a curve (you will only ever be curved up).</p><p>Because this is a two part project, we are splitting grade guarantees in the parts. If you reach a different guarantee requirement in each section, you are guaranteed the lower of the two. This does not prevent you from reaching a higher grade, depending on the distribution - You are simply guaranteed to reach the lower of the two. <em>For example, if you reach an A on Strings, but a B on Performance, you will receive <strong>AT LEAST</strong> a B on the assignment.</em></p><table>
  <tbody><tr>
    <td>Grade</td>
    <td>Strings</td>
    <td>Performance</td>
  </tr>
  <tr>
    <td>A</td>
    <td>Full functionality, no segfaults, and performance faster than our baseline. Explanation of strstr and strtok in README.</td>
    <td>Multiple large optimizations &amp; runtimes within 10% of reference for both poly and polycol, with full explanations.  <code>./poly</code> and <code>./polycol</code> should return "Your result is correct!"</td>
  </tr>
  <tr>
    <td>B
</td>
    <td>Full functionality on all but one, no segfaults on those with full functionality, and performance under our baseline. Explanation of strstr and strtok in README (unless one of those is the one missed).</td>
    <td>More than one large optimization on at least one problem, and runtimes within 50% of reference for both poly and polycol.  <code>./poly</code> and <code>./polycol</code> should return "Your result is correct!"</td>
  </tr>
  <tr>
    <td>C</td>
    <td>Full functionality on all but two, no segfaults on those with full functionality (except on strtok), and performance under our baseline. </td>
    <td>At least one large optimization and runtimes within 150% of reference for both poly and polycol. <code>./poly</code> and <code>./polycol</code> should return "Your result is correct!"</td>
  </tr>
  <tr>
    <td>D</td>
    <td>You can get your project checked off for a C up until the next project deadline</td>
    <td></td>
  </tr>
</tbody></table><p>For these cutoffs to apply, you must meet the requirements of our style guide 😜</p><h1 id="Handing-In"><a class="anchor hidden-xs" href="#Handing-In" title="Handing-In"><span class="octicon octicon-link"></span></a>Handing In</h1><p>To hand in your project, run the command:</p><p><strong><code>cs0330_handin stringsperf</code></strong></p><p>from your <strong>stringsperf</strong> directory.</p><p>Your handin must be contain two directories — <strong>strings</strong> and <strong>perf</strong> — that separate your work for the two parts of this project. The directories should be organized as follows:</p><ul>
<li>
<p><strong>strings</strong> directory</p>
<ul>
<li>
<p>All <strong><code>.c</code></strong> and <strong><code>.h</code></strong> files containing code you have written for the Strings portion of this assignment.</p>
</li>
<li>
<p>A <strong><code>README</code></strong> explaining your approaches to <strong><code>strstr</code></strong> and <strong><code>strtok</code></strong>. You should also document any known bugs and collaborators.</p>
</li>
</ul>
</li>
<li>
<p><strong>perf</strong> directory</p>
<ul>
<li>
<p>All <strong><code>.c</code></strong> and <strong><code>.h</code></strong> files containing code you have written for the Performance portion of this assignment.</p>
</li>
<li>
<p>A <strong><code>README</code></strong> explaining your optimizations, as described in the Performance section of the handout. You should also document any known bugs and collaborators.</p>
</li>
</ul>
</li>
</ul><p>Ensure that your code is properly formatted before handin.</p><p>Consult the <a href="http://cs.brown.edu/courses/cs033/docs/guides/style.pdf" target="_blank" rel="noopener"><strong>C Style document</strong></a> (which is on the website) for some pointers on C coding style. Note that you can run a style formatting script in order to make your code match some of the style specifications. To use the script, run the command</p><p><code>cs0330_reformat &lt;file1&gt; &lt;file2&gt; …</code></p><p>Check the style guide for more information.</p><p><strong>Note:</strong> <em>the reformat script should only be used on .c and .h files</em></p><p>If you wish to change your handin, you can do so by re-running the handin script. Only the most recent handin will be graded.</p><p><strong>Important note:</strong> <em>If you have already handed in your assignment, but plan to hand in again after the TAs start grading at noon on Tuesday, October 23rd, in addition to running the regular handin script (<strong><code>cs0330_handin stringsperf</code></strong>), you must run <strong><code>cs0330_grade_me_late stringsperf</code></strong> to inform us not to start grading you yet. You must run the script by noon on 10/19 (earlier than usual because it’s due friday)</em>. <strong>If you run this script, you will likely get grades back later than other students.</strong></p><p>If you do not run this script, the TAs will proceed to grade whatever you have already handed in, and you will receive a grade report with the rest of the class that is based on the code you handed in before we started grading.</p><p>If something changes, you can run the script with the <strong><code>--undo</code></strong> flag (before noon on 10/19) to tell us to grade you on-time and with the <strong><code>--info</code></strong> flag to check if you’re currently on the list for late grading.</p><p><em>These instructions apply to all projects unless otherwise stated on the handout.</em></p></div>
    <div class="ui-toc dropup unselectable hidden-print" style="display:none;">
        <div class="pull-right dropdown">
            <a id="tocLabel" class="ui-toc-label btn btn-default" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" title="Table of content">
                <i class="fa fa-bars"></i>
            </a>
            <ul id="ui-toc" class="ui-toc-dropdown dropdown-menu" aria-labelledby="tocLabel">
                <div class="toc"><ul class="nav">
<li class=""><a href="#Project-Strings--Performance" title="Project Strings + Performance">Project Strings + Performance</a></li>
<li><a href="#Overview" title="Overview">Overview</a></li>
<li><a href="#Install-the-Stencil" title="Install the Stencil">Install the Stencil</a></li>
<li><a href="#Part-1-Strings" title="Part 1: Strings">Part 1: Strings</a><ul class="nav">
<li><a href="#Assignment" title="Assignment">Assignment</a></li>
<li><a href="#Allowed-Library-Functions-and-Resources" title="Allowed Library Functions and Resources">Allowed Library Functions and Resources</a></li>
<li><a href="#Testing" title="Testing">Testing</a></li>
</ul>
</li>
<li class=""><a href="#Part-2-Performance" title="Part 2: Performance">Part 2: Performance</a><ul class="nav">
<li class=""><a href="#Poly" title="Poly!">Poly!</a><ul class="nav">
<li class=""><a href="#Assignment1" title="Assignment">Assignment</a></li>
<li><a href="#Horner’s-Method" title="Horner’s Method">Horner’s Method</a></li>
</ul>
</li>
<li><a href="#PolyCol" title="PolyCol">PolyCol</a><ul class="nav">
<li><a href="#Assignment2" title="Assignment">Assignment</a></li>
</ul>
</li>
<li><a href="#Getting-Started" title="Getting Started">Getting Started</a></li>
<li><a href="#Testing1" title="Testing">Testing</a></li>
</ul>
</li>
<li><a href="#Grading" title="Grading">Grading</a></li>
<li><a href="#Handing-In" title="Handing In">Handing In</a></li>
</ul>
</div><div class="toc-menu"><a class="expand-toggle" href="#">Expand all</a><a class="back-to-top" href="#">Back to top</a><a class="go-to-bottom" href="#">Go to bottom</a></div>
            </ul>
        </div>
    </div>
    <div id="ui-toc-affix" class="ui-affix-toc ui-toc-dropdown unselectable hidden-print" data-spy="affix" style="top:17px;display:none;" null null>
        <div class="toc"><ul class="nav">
<li class=""><a href="#Project-Strings--Performance" title="Project Strings + Performance">Project Strings + Performance</a></li>
<li><a href="#Overview" title="Overview">Overview</a></li>
<li><a href="#Install-the-Stencil" title="Install the Stencil">Install the Stencil</a></li>
<li><a href="#Part-1-Strings" title="Part 1: Strings">Part 1: Strings</a><ul class="nav">
<li><a href="#Assignment" title="Assignment">Assignment</a></li>
<li><a href="#Allowed-Library-Functions-and-Resources" title="Allowed Library Functions and Resources">Allowed Library Functions and Resources</a></li>
<li><a href="#Testing" title="Testing">Testing</a></li>
</ul>
</li>
<li class=""><a href="#Part-2-Performance" title="Part 2: Performance">Part 2: Performance</a><ul class="nav">
<li class=""><a href="#Poly" title="Poly!">Poly!</a><ul class="nav">
<li class=""><a href="#Assignment1" title="Assignment">Assignment</a></li>
<li><a href="#Horner’s-Method" title="Horner’s Method">Horner’s Method</a></li>
</ul>
</li>
<li><a href="#PolyCol" title="PolyCol">PolyCol</a><ul class="nav">
<li><a href="#Assignment2" title="Assignment">Assignment</a></li>
</ul>
</li>
<li><a href="#Getting-Started" title="Getting Started">Getting Started</a></li>
<li><a href="#Testing1" title="Testing">Testing</a></li>
</ul>
</li>
<li><a href="#Grading" title="Grading">Grading</a></li>
<li><a href="#Handing-In" title="Handing In">Handing In</a></li>
</ul>
</div><div class="toc-menu"><a class="expand-toggle" href="#">Expand all</a><a class="back-to-top" href="#">Back to top</a><a class="go-to-bottom" href="#">Go to bottom</a></div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gist-embed/2.6.0/gist-embed.min.js" integrity="sha256-KyF2D6xPIJUW5sUDSs93vWyZm+1RzIpKCexxElmxl8g=" crossorigin="anonymous" defer></script>
    <script>
        var markdown = $(".markdown-body");
        //smooth all hash trigger scrolling
        function smoothHashScroll() {
            var hashElements = $("a[href^='#']").toArray();
            for (var i = 0; i < hashElements.length; i++) {
                var element = hashElements[i];
                var $element = $(element);
                var hash = element.hash;
                if (hash) {
                    $element.on('click', function (e) {
                        // store hash
                        var hash = this.hash;
                        if ($(hash).length <= 0) return;
                        // prevent default anchor click behavior
                        e.preventDefault();
                        // animate
                        $('body, html').stop(true, true).animate({
                            scrollTop: $(hash).offset().top
                        }, 100, "linear", function () {
                            // when done, add hash to url
                            // (default click behaviour)
                            window.location.hash = hash;
                        });
                    });
                }
            }
        }

        smoothHashScroll();
        var toc = $('.ui-toc');
        var tocAffix = $('.ui-affix-toc');
        var tocDropdown = $('.ui-toc-dropdown');
        //toc
        tocDropdown.click(function (e) {
            e.stopPropagation();
        });

        var enoughForAffixToc = true;

        function generateScrollspy() {
            $(document.body).scrollspy({
                target: ''
            });
            $(document.body).scrollspy('refresh');
            if (enoughForAffixToc) {
                toc.hide();
                tocAffix.show();
            } else {
                tocAffix.hide();
                toc.show();
            }
            $(document.body).scroll();
        }

        function windowResize() {
            //toc right
            var paddingRight = parseFloat(markdown.css('padding-right'));
            var right = ($(window).width() - (markdown.offset().left + markdown.outerWidth() - paddingRight));
            toc.css('right', right + 'px');
            //affix toc left
            var newbool;
            var rightMargin = (markdown.parent().outerWidth() - markdown.outerWidth()) / 2;
            //for ipad or wider device
            if (rightMargin >= 133) {
                newbool = true;
                var affixLeftMargin = (tocAffix.outerWidth() - tocAffix.width()) / 2;
                var left = markdown.offset().left + markdown.outerWidth() - affixLeftMargin;
                tocAffix.css('left', left + 'px');
            } else {
                newbool = false;
            }
            if (newbool != enoughForAffixToc) {
                enoughForAffixToc = newbool;
                generateScrollspy();
            }
        }
        $(window).resize(function () {
            windowResize();
        });
        $(document).ready(function () {
            windowResize();
            generateScrollspy();
        });

        //remove hash
        function removeHash() {
            window.location.hash = '';
        }

        var backtotop = $('.back-to-top');
        var gotobottom = $('.go-to-bottom');

        backtotop.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToTop)
                scrollToTop();
            removeHash();
        });
        gotobottom.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToBottom)
                scrollToBottom();
            removeHash();
        });

        var toggle = $('.expand-toggle');
        var tocExpand = false;

        checkExpandToggle();
        toggle.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            tocExpand = !tocExpand;
            checkExpandToggle();
        })

        function checkExpandToggle () {
            var toc = $('.ui-toc-dropdown .toc');
            var toggle = $('.expand-toggle');
            if (!tocExpand) {
                toc.removeClass('expand');
                toggle.text('Expand all');
            } else {
                toc.addClass('expand');
                toggle.text('Collapse all');
            }
        }

        function scrollToTop() {
            $('body, html').stop(true, true).animate({
                scrollTop: 0
            }, 100, "linear");
        }

        function scrollToBottom() {
            $('body, html').stop(true, true).animate({
                scrollTop: $(document.body)[0].scrollHeight
            }, 100, "linear");
        }
    </script>
</body>

</html>
